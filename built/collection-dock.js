//     collection-dock
//     (c) simonfan
//     collection-dock is licensed under the MIT terms.

define("__collection-dock/attach/initialize",["require","exports","module","lodash"],function(e,t,i){var o=e("lodash");i.exports=function(){o.bindAll(this,"handleAdd","handleRemove","handleReset","handleResort"),this.itemViews={}}}),define("__collection-dock/attach/item",["require","exports","module","lodash","model-dock"],function(e,t){e("lodash");t.placeItemHtml=function(e,t){var i=this.$container.children().eq(e-1);i.length>0?i.after(t):this.$container.append(t)},t.itemHtml="<div></div>",t.itemView=e("model-dock"),t.itemViewInstance=function(e,t){return 1===arguments.length?this.itemViews[e.cid]:(2===arguments.length&&(this.itemViews[e.cid]=t),void 0)}}),define("__collection-dock/attach/event-handlers",["require","exports","module","lodash","jquery"],function(e,t){var i=e("lodash"),o=e("jquery");t.handleAdd=function(e){var t=i.isString(this.itemHtml)?this.itemHtml:this.itemHtml(e.attributes),n=o(t),l=this.collection.indexOf(e);this.placeItemHtml(l,n);var c=this.itemView({model:e,el:n,$el:n});this.itemViewInstance(e,c)},t.handleRemove=function(e){var t=this.itemViewInstance(e);t&&t.remove()},t.handleReset=function(){this.$container.html(""),this.collection.each(this.handleRemove),this.collection.each(this.handleAdd)},t.handleResort=function(e){this.handleReset(e,this.$container)}}),define("__collection-dock/attach/methods",["require","exports","module","lodash","./item","./event-handlers"],function(e,t){var i=e("lodash");t.resortEvent="resort",t.attach=function(e){this.detach(),this.collection=e,e.on("add",this.handleAdd).on("remove",this.handleRemove).on("reset",this.handleReset).on(this.resortEvent,this.handleResort),this.handleReset(e)},t.detach=function(){this.collection&&this.collection.off("add",void 0,this).off("remove",void 0,this).off("reset",void 0,this).off(this.resortEvent,void 0,this),this.$container.html("")},i.extend(t,e("./item")),i.extend(t,e("./event-handlers"))}),define("__collection-dock/proxy",["require","exports","module","lodash"],function(e,t){var i=e("lodash");t.proxyMethod=function(e,t){var i=this.collection;return i?i[e].apply(i,t):void 0};var o=["get","set","each","add"];i.each(o,function(e){t[e]=function(){return this.proxyMethod(e,arguments)}})}),define("collection-dock",["require","exports","module","lodash","lowercase-backbone","./__collection-dock/attach/initialize","./__collection-dock/attach/methods","./__collection-dock/proxy"],function(e,t,i){var o=e("lodash"),n=e("lowercase-backbone"),l=e("./__collection-dock/attach/initialize"),c=i.exports=n.view.extend(function(e){if(n.view.prototype.initialize.apply(this,arguments),o.extend(this,e),!this.$el)throw new Error('No "$el" property found on dock.');var t=this.$container;this.$container=t?o.isString(t)?this.$el.find(t):t:this.$el,l.call(this)});c.proto(e("./__collection-dock/attach/methods")),c.proto(e("./__collection-dock/proxy"))});